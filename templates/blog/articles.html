{% extends "base.html" %}

{% block content %}

<div class="container-fluid">
  <main class="tm-main">
      <!-- Search form -->


      <div class="row tm-row">
        {% for post in articles %}
        <article class="col-12 col-md-6 tm-post">
            <hr class="tm-hr-primary">
            <a href="{{post.get_absolute_url}}" class="effect-lily tm-post-link tm-pt-60">
                <div class="tm-post-link-inner">
                    <img src="{{post.image.url}}" alt="{{ post.title }}" class="img-fluid">
                </div>
                <div style="display:flex">
                  {% for tag in post.tags.all %}
                  <a href="{% url 'blog:tagged' tag.slug %}" class="mr-1 badge badge-info">#{{ tag }}</a>
                  {% endfor %}
              </div>
                <span class="position-absolute tm-new-badge">New</span>
                <h2 class="tm-pt-30 tm-color-primary tm-post-title">{{ post.title }}</h2>
            </a>
            <p class="tm-pt-30">
              {{post.snippet|truncatechars:50}}
            </p>
            <div class="d-flex justify-content-between tm-pt-45">
                <span class="tm-color-primary">{{post.tag}}</span>
                <span class="tm-color-primary">{{ post.publish.date }}</span>
            </div>
            <hr>
            <div class="d-flex justify-content-between">
                <span>{{post.total_likes}}</span>
                <span>{{post.author}}</span>
            </div>
        </article>
        {% endfor %}
      </div>
</main>
    <h3 class="text-center">{% include 'pagination.html' with page=articles %}</h3>
{% endblock %}
